import{r as l,j as s}from"./index-da616566.js";import{C as E}from"./Header-ad5a4039.js";import"./ScrollTrigger-e6c30445.js";import"./useMediaQuery-b3e8be37.js";import"./LazyImage-fbdf4918.js";import"./languageUtils-e2f6a333.js";const I="_servicioCard_1h16n_1",L="_cardInner_1h16n_15",w="_flipped_1h16n_26",y="_cardFront_1h16n_30",$="_cardBack_1h16n_30",F="_cardBackTabs_1h16n_71",H="_cardBackTab_1h16n_71",W="_cardBackTabIcon_1h16n_82",R="_cardBackTabLabel_1h16n_88",A="_cardBackTabContent_1h16n_93",J="_cardBackClose_1h16n_99",M="_coverImage_1h16n_117",O="_iconSvgWrapper_1h16n_130",P="_icon_1h16n_130",z="_bobbingArrow_1h16n_1",U="_isScrolled_1h16n_210",V="_cardTitle_1h16n_216",Y="_cardDescription_1h16n_224",q="_headerContent_1h16n_230",G="_title_1h16n_238",K="_subtitle_1h16n_250",Q="_description_1h16n_259",r={servicioCard:I,cardInner:L,flipped:w,cardFront:y,cardBack:$,cardBackTabs:F,cardBackTab:H,cardBackTabIcon:W,cardBackTabLabel:R,cardBackTabContent:A,cardBackClose:J,coverImage:M,iconSvgWrapper:O,icon:P,bobbingArrow:z,isScrolled:U,cardTitle:V,cardDescription:Y,headerContent:q,title:G,subtitle:K,description:Q};function X(_,p){if(!_||!p)return"";const a={"@context":"https://schema.org","@type":_,...p};return JSON.stringify(a)}function ne({icon:_,svg:p,titulo:a,descripcion:f,modalData:c,playInitialAnimation:T}){const[t,h]=l.useState(!1),d=l.useRef(null),[C,o]=l.useState(!1),m=X("Service",{name:a,description:f,provider:{"@type":"Organization",name:"JMCdev"}});return l.useEffect(()=>{const e=`schema-${a.toLowerCase().replace(/\s+/g,"-")}`;let n=document.getElementById(e);return n||(n=document.createElement("script"),n.id=e,n.type="application/ld+json",n.textContent=m,document.head.appendChild(n)),()=>{const i=document.getElementById(e);i&&document.head.removeChild(i)}},[a,f,m]),l.useEffect(()=>{const e=d.current;if(!e||!t){o(!1),e&&(e.scrollTop=0);return}const n=()=>{e.scrollTop>10?o(!0):o(!1)};return e.addEventListener("scroll",n),n(),()=>{e.removeEventListener("scroll",n)}},[t]),l.useEffect(()=>{const e=d.current;if(!e)return;if(!t){o(!1),e&&(e.scrollTop=0);return}e.scrollTop=0,o(!1);let n;e.scrollHeight>e.clientHeight&&(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),n=setTimeout(()=>{d.current&&t&&e.scrollTo({top:0,behavior:"smooth"})},800));const i=()=>{e.scrollTop>10?o(!0):o(!1)},v=u=>{const{deltaY:b}=u,{scrollTop:B,scrollHeight:k,clientHeight:g}=e;if(k<=g)return;const x=b<0,S=b>0,j=B===0,N=B+g>=k;(x&&!j||S&&!N)&&(u.preventDefault(),u.stopPropagation(),e.scrollTop+=b*.5)};return e.addEventListener("scroll",i),e.addEventListener("wheel",v,{passive:!1}),i(),()=>{e.removeEventListener("scroll",i),e.removeEventListener("wheel",v),n&&clearTimeout(n)}},[t]),l.useEffect(()=>{if(T&&!t){h(!0);const i=setTimeout(()=>{h(!1)},600+800);return()=>{clearTimeout(i)}}},[T]),s.jsx("article",{className:`${r.servicioCard} ${t?r.flipped:""}`,tabIndex:0,role:"button",style:{cursor:"pointer"},onClick:()=>{h(e=>!e),!t&&d.current&&(d.current.scrollTop=0,o(!1))},onBlur:()=>{h(!1)},itemScope:!0,itemType:"https://schema.org/Service",children:s.jsxs("div",{className:r.cardInner,children:[s.jsxs("div",{className:r.cardFront,children:[s.jsx("div",{className:r.iconSvgWrapper,children:p||_}),s.jsx("h3",{className:r.cardTitle,children:a})," ",s.jsx("p",{className:r.cardDescription,children:f})]}),s.jsxs("div",{className:`${r.cardBack} ${C?r.isScrolled:""} card-scrollable-content`,ref:d,children:[(c==null?void 0:c.image)&&s.jsx("img",{src:c.image.src,alt:c.image.alt,className:r.coverImage}),s.jsxs("div",{className:r.headerContent,children:[(c==null?void 0:c.subtitle)&&s.jsx("div",{className:r.subtitle,children:c.subtitle}),s.jsx(E,{className:r.title,animation:"slide",fontTransition:"0.4s",children:c==null?void 0:c.title}),s.jsx("p",{className:r.description,children:c==null?void 0:c.description})]}),(c==null?void 0:c.tabs)&&c.tabs.length>0&&s.jsx("div",{className:r.cardBackTabs,children:c.tabs.map((e,n)=>s.jsxs("div",{className:r.cardBackTab,children:[e.icon&&s.jsx("span",{className:r.cardBackTabIcon,children:e.icon}),s.jsx("span",{className:r.cardBackTabLabel,children:e.label}),s.jsx("div",{className:r.cardBackTabContent,children:e.content})]},`tab-${n}`))}),s.jsx("button",{className:r.cardBackClose,onClick:e=>{e.stopPropagation(),h(!1)},children:"Volver"})]})]})})}export{ne as default};
