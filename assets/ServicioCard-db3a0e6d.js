import{r as a,j as s,C as h}from"./index-2ebea280.js";const v="_servicioCard_1c3kz_1",B="_cardInner_1c3kz_15",x="_flipped_1c3kz_26",g="_cardFront_1c3kz_30",C="_cardBack_1c3kz_30",z="_cardBackTabs_1c3kz_67",j="_cardBackTab_1c3kz_67",S="_cardBackTabIcon_1c3kz_78",m="_cardBackTabLabel_1c3kz_84",N="_cardBackTabContent_1c3kz_89",I="_cardBackClose_1c3kz_95",E="_coverImage_1c3kz_113",L="_iconSvgWrapper_1c3kz_126",y="_icon_1c3kz_126",F="_bobbingArrow_1c3kz_1",W="_isScrolled_1c3kz_206",$="_cardTitle_1c3kz_212",w="_cardDescription_1c3kz_220",A="_headerContent_1c3kz_226",H="_title_1c3kz_234",R="_subtitle_1c3kz_246",J="_description_1c3kz_255",r={servicioCard:v,cardInner:B,flipped:x,cardFront:g,cardBack:C,cardBackTabs:z,cardBackTab:j,cardBackTabIcon:S,cardBackTabLabel:m,cardBackTabContent:N,cardBackClose:I,coverImage:E,iconSvgWrapper:L,icon:y,bobbingArrow:F,isScrolled:W,cardTitle:$,cardDescription:w,headerContent:A,title:H,subtitle:R,description:J},M=(k,_)=>{const p={"@context":"https://schema.org","@type":k,..._};return JSON.stringify(p)};function P({icon:k,svg:_,titulo:p,descripcion:u,modalData:e,playInitialAnimation:b}){const[t,l]=a.useState(!1),o=a.useRef(null),[f,i]=a.useState(!1),T=M("Service",{name:p,description:u,provider:{"@type":"Organization",name:"JMCdev"}});return a.useEffect(()=>{const c=o.current;if(!c||!t){i(!1),c&&(c.scrollTop=0);return}const n=()=>{c.scrollTop>10?i(!0):i(!1)};return c.addEventListener("scroll",n),n(),()=>{c.removeEventListener("scroll",n)}},[t]),a.useEffect(()=>{const c=o.current;if(!c)return;if(!t){i(!1),c&&(c.scrollTop=0);return}c.scrollTop=0,i(!1);let n;c.scrollHeight>c.clientHeight&&(c.scrollTo({top:c.scrollHeight,behavior:"smooth"}),n=setTimeout(()=>{o.current&&t&&c.scrollTo({top:0,behavior:"smooth"})},800));const d=()=>{c.scrollTop>10?i(!0):i(!1)};return c.addEventListener("scroll",d),d(),()=>{c.removeEventListener("scroll",d),n&&clearTimeout(n)}},[t]),a.useEffect(()=>{if(b&&!t){l(!0);const d=setTimeout(()=>{l(!1)},600+800);return()=>{clearTimeout(d)}}},[b]),s.jsxs("article",{className:`${r.servicioCard} ${t?r.flipped:""}`,tabIndex:0,role:"button",style:{cursor:"pointer"},onClick:()=>{l(c=>!c),!t&&o.current&&(o.current.scrollTop=0,i(!1))},onBlur:()=>{l(!1)},itemScope:!0,itemType:"https://schema.org/Service",children:[s.jsx("script",{type:"application/ld+json",children:T}),s.jsxs("div",{className:r.cardInner,children:[s.jsxs("div",{className:r.cardFront,children:[s.jsx("div",{className:r.iconSvgWrapper,children:_||k}),s.jsx("h3",{className:r.cardTitle,children:p})," ",s.jsx("p",{className:r.cardDescription,children:u})]}),s.jsxs("div",{className:`${r.cardBack} ${f?r.isScrolled:""} card-scrollable-content`,ref:o,children:[(e==null?void 0:e.image)&&s.jsx("img",{src:e.image.src,alt:e.image.alt,className:r.coverImage}),s.jsxs("div",{className:r.headerContent,children:[(e==null?void 0:e.subtitle)&&s.jsx("div",{className:r.subtitle,children:e.subtitle}),s.jsx(h,{className:r.title,animation:"slide",fontTransition:"0.4s",children:e==null?void 0:e.title}),s.jsx("p",{className:r.description,children:e==null?void 0:e.description})]}),(e==null?void 0:e.tabs)&&e.tabs.length>0&&s.jsx("div",{className:r.cardBackTabs,children:e.tabs.map((c,n)=>s.jsxs("div",{className:r.cardBackTab,children:[c.icon&&s.jsx("span",{className:r.cardBackTabIcon,children:c.icon}),s.jsx("span",{className:r.cardBackTabLabel,children:c.label}),s.jsx("div",{className:r.cardBackTabContent,children:c.content})]},n))}),s.jsx("button",{className:r.cardBackClose,onClick:c=>{c.stopPropagation(),l(!1)},children:"Volver"})]})]})]})}export{P as default};
