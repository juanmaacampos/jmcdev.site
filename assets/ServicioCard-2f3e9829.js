import{r as o,j as s}from"./index-5d6a50c6.js";import{C as m}from"./Header-9abc9b87.js";import"./ScrollTrigger-e6c30445.js";import"./useMediaQuery-338425ca.js";import"./LazyImage-0dab0a64.js";import"./languageUtils-04dca5c3.js";const v="_servicioCard_187wa_1",k="_cardInner_187wa_15",B="_flipped_187wa_26",C="_cardFront_187wa_30",g="_cardBack_187wa_30",w="_cardBackTabs_187wa_70",x="_cardBackTab_187wa_70",j="_cardBackTabIcon_187wa_81",S="_cardBackTabLabel_187wa_87",N="_cardBackTabContent_187wa_92",E="_cardBackClose_187wa_98",I="_coverImage_187wa_116",L="_iconSvgWrapper_187wa_129",y="_icon_187wa_129",$="_bobbingArrow_187wa_1",F="_isScrolled_187wa_209",R="_cardTitle_187wa_215",W="_cardDescription_187wa_223",A="_headerContent_187wa_229",H="_title_187wa_237",J="_subtitle_187wa_249",M="_description_187wa_258",r={servicioCard:v,cardInner:k,flipped:B,cardFront:C,cardBack:g,cardBackTabs:w,cardBackTab:x,cardBackTabIcon:j,cardBackTabLabel:S,cardBackTabContent:N,cardBackClose:E,coverImage:I,iconSvgWrapper:L,icon:y,bobbingArrow:$,isScrolled:F,cardTitle:R,cardDescription:W,headerContent:A,title:H,subtitle:J,description:M};function O(u,p){if(!u||!p)return"";const l={"@context":"https://schema.org","@type":u,...p};return JSON.stringify(l)}function Q({icon:u,svg:p,titulo:l,descripcion:f,modalData:c,playInitialAnimation:b}){const[n,_]=o.useState(!1),d=o.useRef(null),[T,i]=o.useState(!1),h=O("Service",{name:l,description:f,provider:{"@type":"Organization",name:"JMCdev"}});return o.useEffect(()=>{const e=`schema-${l.toLowerCase().replace(/\s+/g,"-")}`;let t=document.getElementById(e);return t||(t=document.createElement("script"),t.id=e,t.type="application/ld+json",t.textContent=h,document.head.appendChild(t)),()=>{const a=document.getElementById(e);a&&document.head.removeChild(a)}},[l,f,h]),o.useEffect(()=>{const e=d.current;if(!e||!n){i(!1),e&&(e.scrollTop=0);return}const t=()=>{e.scrollTop>10?i(!0):i(!1)};return e.addEventListener("scroll",t),t(),()=>{e.removeEventListener("scroll",t)}},[n]),o.useEffect(()=>{const e=d.current;if(!e)return;if(!n){i(!1),e&&(e.scrollTop=0);return}e.scrollTop=0,i(!1);let t;e.scrollHeight>e.clientHeight&&(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t=setTimeout(()=>{d.current&&n&&e.scrollTo({top:0,behavior:"smooth"})},800));const a=()=>{e.scrollTop>10?i(!0):i(!1)};return e.addEventListener("scroll",a),a(),()=>{e.removeEventListener("scroll",a),t&&clearTimeout(t)}},[n]),o.useEffect(()=>{if(b&&!n){_(!0);const a=setTimeout(()=>{_(!1)},600+800);return()=>{clearTimeout(a)}}},[b]),s.jsx("article",{className:`${r.servicioCard} ${n?r.flipped:""}`,tabIndex:0,role:"button",style:{cursor:"pointer"},onClick:()=>{_(e=>!e),!n&&d.current&&(d.current.scrollTop=0,i(!1))},onBlur:()=>{_(!1)},itemScope:!0,itemType:"https://schema.org/Service",children:s.jsxs("div",{className:r.cardInner,children:[s.jsxs("div",{className:r.cardFront,children:[s.jsx("div",{className:r.iconSvgWrapper,children:p||u}),s.jsx("h3",{className:r.cardTitle,children:l})," ",s.jsx("p",{className:r.cardDescription,children:f})]}),s.jsxs("div",{className:`${r.cardBack} ${T?r.isScrolled:""} card-scrollable-content`,ref:d,children:[(c==null?void 0:c.image)&&s.jsx("img",{src:c.image.src,alt:c.image.alt,className:r.coverImage}),s.jsxs("div",{className:r.headerContent,children:[(c==null?void 0:c.subtitle)&&s.jsx("div",{className:r.subtitle,children:c.subtitle}),s.jsx(m,{className:r.title,animation:"slide",fontTransition:"0.4s",children:c==null?void 0:c.title}),s.jsx("p",{className:r.description,children:c==null?void 0:c.description})]}),(c==null?void 0:c.tabs)&&c.tabs.length>0&&s.jsx("div",{className:r.cardBackTabs,children:c.tabs.map((e,t)=>s.jsxs("div",{className:r.cardBackTab,children:[e.icon&&s.jsx("span",{className:r.cardBackTabIcon,children:e.icon}),s.jsx("span",{className:r.cardBackTabLabel,children:e.label}),s.jsx("div",{className:r.cardBackTabContent,children:e.content})]},`tab-${t}`))}),s.jsx("button",{className:r.cardBackClose,onClick:e=>{e.stopPropagation(),_(!1)},children:"Volver"})]})]})})}export{Q as default};
