import{r as s,j as b}from"./index-5855bfb3.js";const M=({src:n,alt:I,className:d,mobileSrc:t,placeholder:i="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB2aWV3Qm94PSIwIDAgMSAxIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNjY2MiLz48L3N2Zz4=",...m})=>{const[o,x]=s.useState(i),[a,f]=s.useState(),[r,g]=s.useState(!1),c=window.matchMedia("(max-width: 768px)").matches;s.useEffect(()=>{let e;return a&&o===i&&(e=new IntersectionObserver(S=>{S.forEach(v=>{v.isIntersecting&&(x(c&&t?t:n),e.unobserve(a))})},{threshold:.1,rootMargin:"50px"}),e.observe(a)),()=>{e&&e.unobserve&&e.unobserve(a)}},[a,o,i,n,t,c]);const u=()=>{g(!0)};return b.jsx("img",{ref:f,src:o,alt:I,className:`${d} ${r?"loaded":"loading"}`,onLoad:u,style:{transition:"opacity 0.3s",opacity:r?1:.7},...m})};export{M as L};
